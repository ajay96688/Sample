<!DOCTYPE html>
<html lang="en">
<head>
    <style> html, body { margin: 0; padding: 0; height: 100%; } </style>
    <script src="ag-grid.js"></script>
    <script src="ag-grid-enterprise.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div id="myGrid" style="height: 100%;" class="ag-theme-balham-dark"></div>
<script src="olympicWinnersSmall.js"></script>
<script src="main.js"></script>
<script>
var row =[{id:1, currency : 'INR', book : 'ABCD'},
{id:1, currency : 'INR', book : 'BCDA'},
{id:1, currency : 'INR', book : 'CBDA'},
{id:1, currency : 'USD', book : 'ABCD'},
{id:1, currency : 'USD', book : 'CBDA'},
{id:1, currency : 'USD', book : 'DEFG'},
{id:1, currency : 'USD', book : 'GHJK'},
{id:2, currency : 'INR', book : 'ABCD'},
{id:2, currency : 'INR', book : 'BCDA'},
{id:2, currency : 'INR', book : 'CBDA'},
{id:2, currency : 'USD', book : 'ABCD'},
{id:2, currency : 'USD', book : 'LMNO'},
{id:2, currency : 'USD', book : 'WXYZ'},
{id:2, currency : 'USD', book : 'PQRS'}];

var arrCurr = [];
var arrBook = [];
var prevId = -1;
var urlMap = new Map();
for(var i =0 ; i < row.length ; i++){
  var  curr = row[i].currency
  var book = row[i].book
    if(prevId > 0 && prevId === row[i].id){
        if(arrCurr.indexOf(curr) == -1){
            arrCurr.push(curr)
        }   
        if(arrBook.indexOf(book) == -1){
            arrBook.push(book) 
        } 
        if(i == row.length-1){
            urlMap.set(prevId, `${prevId}/${arrCurr.join()}/${arrBook.join()}`) 
        }
    }else{
        if(i>0){
            urlMap.set(prevId, `${prevId}/${arrCurr.join()}/${arrBook.join()}`)
        }      
         arrCurr = [];
         arrBook = [];
         arrCurr.push(curr)
         arrBook.push(book) 
    }
     prevId = row[i].id
}

urlMap.forEach((value, key)=>{
    console.log(key, value)

})

</script>
</body>
</html>